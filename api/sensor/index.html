<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="X-UA-Compatible"content="IE=Edge"><meta http-equiv="Content-Type"content="text/html; charset=utf-8"><title>Sensor &#8212; esphomelib 1.4.0 documentation</title><link rel="stylesheet"href="../../_static/alabaster.css"type="text/css"><link rel="stylesheet"href="../../_static/pygments.css"type="text/css"><script src="../../_static/documentation_options.js"></script><script src="../../_static/jquery.js"></script><script src="../../_static/underscore.js"></script><script src="../../_static/doctools.js"></script><link rel="index"title="Index"href="../../genindex.html"><link rel="search"title="Search"href="../../search.html"><link rel="next"title="Binary Sensor"href="../binary_sensor/index.html"><link rel="prev"title="Deep Sleep"href="../core/deep-sleep.html"><link rel="stylesheet"href="../../_static/custom.css"type="text/css"><meta name="viewport"content="width=device-width,initial-scale=0.9,maximum-scale=0.9"><div class="document"><div class="documentwrapper"><div class="bodywrapper"><div class="body"role="main"><div class="section"id="sensor"><h1>Sensor<a class="headerlink"href="#sensor"title="Permalink to this headline">¶</a></h1><p>The <cite>esphomelib::sensor</cite> namespace contains all sensors.<p>See <a class="reference internal"href="../core/application.html#_CPPv3N10esphomelib11Application15register_sensorEPN6sensor6SensorE"title="esphomelib::Application::register_sensor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Application::register_sensor()</span></code></a>.<div class="toctree-wrapper compound"><ul><li class="toctree-l1"><a class="reference internal"href="adc-sensor.html">ADC Sensor Component</a><li class="toctree-l1"><a class="reference internal"href="dallas.html">Dallas Component</a><li class="toctree-l1"><a class="reference internal"href="dht.html">DHT Component</a><li class="toctree-l1"><a class="reference internal"href="pulse-counter.html">ESP32 Pulse Counter Sensor</a><li class="toctree-l1"><a class="reference internal"href="ultrasonic.html">Ultrasonic Sensor Component</a><li class="toctree-l1"><a class="reference internal"href="ads1115.html">ADS1115 ADC Component</a><li class="toctree-l1"><a class="reference internal"href="bmp085.html">BMP085 Pressure/Temperature Sensor</a><li class="toctree-l1"><a class="reference internal"href="htu21d.html">HTU21D Temperature/Humidity Sensor</a><li class="toctree-l1"><a class="reference internal"href="hdc1080.html">HDC1080 Temperature/Humidity Sensor</a><li class="toctree-l1"><a class="reference internal"href="mpu6050.html">MPU6050 Accelerometer/Gyroscope Sensor</a></ul></div><div class="section"id="api-reference"><h2>API Reference<a class="headerlink"href="#api-reference"title="Permalink to this headline">¶</a></h2><div class="section"id="id1"><h3>Sensor<a class="headerlink"href="#id1"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N10esphomelib6sensor6SensorE"><span id="_CPPv2N10esphomelib6sensor6SensorE"></span><span id="esphomelib::sensor::Sensor"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">Sensor</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6SensorE"title="Permalink to this definition">¶</a><br><dd><p>Base-class for all sensors.<p>A sensor has unit of measurement and can use push_new_value to send out a new value with the specified accuracy.<p>Inherits from esphomelib::Nameable<p>Subclassed by <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_empty_sensor"><span class="std std-ref">esphomelib::sensor::EmptySensor&lt; 3, ICON_FLASH, UNIT_V &gt;</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_empty_sensor"><span class="std std-ref">esphomelib::sensor::EmptySensor&lt; default_accuracy_decimals, default_icon, default_unit_of_measurement &gt;</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_polling_sensor_component"><span class="std std-ref">esphomelib::sensor::PollingSensorComponent</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor6SensorERKNSt6stringE"><span id="_CPPv2N10esphomelib6sensor6Sensor6SensorERKNSt6stringE"></span><span id="esphomelib::sensor::Sensor::Sensor__ssCR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1af57686d07b543361b157d5272c9c2668"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">Sensor</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor6SensorERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor23set_unit_of_measurementERKNSt6stringE"><span id="_CPPv2N10esphomelib6sensor6Sensor23set_unit_of_measurementERKNSt6stringE"></span><span id="esphomelib::sensor::Sensor::set_unit_of_measurement__ssCR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1ad0fec77935094f648bf2e759b1392430"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">set_unit_of_measurement</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>unit_of_measurement</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor23set_unit_of_measurementERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd><p>Manually set the unit of measurement of this sensor.<p>By default the sensor’s default defined by <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor_1a2a3a1887bd460b8b9cc01cb18f125e0e"><span class="std std-ref">unit_of_measurement()</span></a> is used.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">unit_of_measurement</span></code>: The unit of measurement, “” to disable.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor8set_iconERKNSt6stringE"><span id="_CPPv2N10esphomelib6sensor6Sensor8set_iconERKNSt6stringE"></span><span id="esphomelib::sensor::Sensor::set_icon__ssCR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a6f6a8ccd28c55c3318d91f90945f2739"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">set_icon</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>icon</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor8set_iconERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd><p>Manually set the icon of this sensor.<p>By default the sensor’s default defined by <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor_1abb0cbdbff303efda15d7e526ec653f3c"><span class="std std-ref">icon()</span></a> is used.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">icon</span></code>: The icon, for example “mdi:flash”. “” to disable.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor21set_accuracy_decimalsE6int8_t"><span id="_CPPv2N10esphomelib6sensor6Sensor21set_accuracy_decimalsE6int8_t"></span><span id="esphomelib::sensor::Sensor::set_accuracy_decimals__int8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a30fa8b2f435e9e96886160714b3e0959"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">set_accuracy_decimals</code><span class="sig-paren">(</span>int8_t <em>accuracy_decimals</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor21set_accuracy_decimalsE6int8_t"title="Permalink to this definition">¶</a><br><dd><p>Manually set the accuracy in decimals for this sensor.<p>By default, the sensor’s default defined by <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor_1aa08abc3121096e38bbf6348a1e19442b"><span class="std std-ref">accuracy_decimals()</span></a> is used.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">accuracy_decimals</span></code>: The accuracy decimal that should be used.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor10add_filterEP6Filter"><span id="_CPPv2N10esphomelib6sensor6Sensor10add_filterEP6Filter"></span><span id="esphomelib::sensor::Sensor::add_filter__FilterP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a9a7e86bcdd35b0b123e327aa1b2effe8"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_filter</code><span class="sig-paren">(</span><a class="reference internal"href="#_CPPv3N10esphomelib6sensor6FilterE"title="esphomelib::sensor::Filter">Filter</a> *<em>filter</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor10add_filterEP6Filter"title="Permalink to this definition">¶</a><br><dd><p>Add a filter to the filter chain. Will be appended to the back.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor11add_filtersERKNSt4listIP6FilterEE"><span id="_CPPv2N10esphomelib6sensor6Sensor11add_filtersERKNSt4listIP6FilterEE"></span><span id="esphomelib::sensor::Sensor::add_filters__std::list:FilterP:CR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a8b05794f8513c56de96a052d74cd4f91"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_filters</code><span class="sig-paren">(</span><em class="property">const</em> std::list&lt;<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6FilterE"title="esphomelib::sensor::Filter">Filter</a> *&gt; &amp;<em>filters</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor11add_filtersERKNSt4listIP6FilterEE"title="Permalink to this definition">¶</a><br><dd><p>Add a list of vectors to the back of the filter chain.<p>This may look like:<p>sensor-&gt;add_filters({ <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_lambda_filter"><span class="std std-ref">LambdaFilter</span></a>([&amp;](float value) -&gt; Optional&lt;float&gt; { return 42/value; }), OffsetFilter(1), SlidingWindowMovingAverageFilter(15, 15), // average over last 15 values });</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor11set_filtersERKNSt4listIP6FilterEE"><span id="_CPPv2N10esphomelib6sensor6Sensor11set_filtersERKNSt4listIP6FilterEE"></span><span id="esphomelib::sensor::Sensor::set_filters__std::list:FilterP:CR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a5c3a0b741d2704ac6b2b4b5737a845d2"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">set_filters</code><span class="sig-paren">(</span><em class="property">const</em> std::list&lt;<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6FilterE"title="esphomelib::sensor::Filter">Filter</a> *&gt; &amp;<em>filters</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor11set_filtersERKNSt4listIP6FilterEE"title="Permalink to this definition">¶</a><br><dd><p>Clear the filters and replace them by filters.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor17add_lambda_filterE15lambda_filter_t"><span id="_CPPv2N10esphomelib6sensor6Sensor17add_lambda_filterE15lambda_filter_t"></span><span id="esphomelib::sensor::Sensor::add_lambda_filter__lambda_filter_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a1ba1abead0aee2d193ee36b92cf18694"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_lambda_filter</code><span class="sig-paren">(</span>lambda_filter_t <em>filter</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor17add_lambda_filterE15lambda_filter_t"title="Permalink to this definition">¶</a><br><dd><p>Add a lambda filter to the back of the filter chain.<p>For example: sensor-&gt;add_lambda_filter([](float value) -&gt; Optional&lt;float&gt; { return value * 42; });<p>If you return an unset <a class="reference internal"href="../core/helpers.html#classesphomelib_1_1_optional"><span class="std std-ref">Optional</span></a>, the value will be discarded and no filters after this one will get the value.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor17add_offset_filterEf"><span id="_CPPv2N10esphomelib6sensor6Sensor17add_offset_filterEf"></span><span id="esphomelib::sensor::Sensor::add_offset_filter__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a18e814d1f6048ab8d62ac5e09d96790c"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_offset_filter</code><span class="sig-paren">(</span>float <em>offset</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor17add_offset_filterEf"title="Permalink to this definition">¶</a><br><dd><p>Helper to add a simple offset filter to the back of the filter chain.<p>This can be used to easily correct for sensors that have a small offset in their value reporting.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">offset</span></code>: The offset that will be added to each value.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor19add_multiply_filterEf"><span id="_CPPv2N10esphomelib6sensor6Sensor19add_multiply_filterEf"></span><span id="esphomelib::sensor::Sensor::add_multiply_filter__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1ab14ccebceb0efe8ab4150179060dc347"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_multiply_filter</code><span class="sig-paren">(</span>float <em>multiplier</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor19add_multiply_filterEf"title="Permalink to this definition">¶</a><br><dd><p>Helper to add a simple multiply filter to the back of the filter chain.<p>Each value will be multiplied by this multiplier. Can be used to convert units easily. For example converting “pulses/min” to a more reasonable unit like kW.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">multiplier</span></code>: The multiplier each value will be multiplied with.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor27add_filter_out_value_filterEf"><span id="_CPPv2N10esphomelib6sensor6Sensor27add_filter_out_value_filterEf"></span><span id="esphomelib::sensor::Sensor::add_filter_out_value_filter__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a6cdcdf03b99ca2fd947f95a9dcf0f4ac"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_filter_out_value_filter</code><span class="sig-paren">(</span>float <em>values_to_filter_out</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor27add_filter_out_value_filterEf"title="Permalink to this definition">¶</a><br><dd><p>Helper to add a simple filter that aborts the filter chain every time it receives a specific value.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">values_to_filter_out</span></code>: The value that should be filtered out.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor33add_sliding_window_average_filterE6size_t6size_t"><span id="_CPPv2N10esphomelib6sensor6Sensor33add_sliding_window_average_filterE6size_t6size_t"></span><span id="esphomelib::sensor::Sensor::add_sliding_window_average_filter__s.s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1af7cba2c642008a5a0c16ee67b623720b"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_sliding_window_average_filter</code><span class="sig-paren">(</span>size_t <em>window_size</em>, size_t <em>send_every</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor33add_sliding_window_average_filterE6size_t6size_t"title="Permalink to this definition">¶</a><br><dd><p>Helper to make adding sliding window moving average filters a bit easier.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor37add_exponential_moving_average_filterEf6size_t"><span id="_CPPv2N10esphomelib6sensor6Sensor37add_exponential_moving_average_filterEf6size_t"></span><span id="esphomelib::sensor::Sensor::add_exponential_moving_average_filter__float.s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1aba07e742b745033bf27978d329d491a1"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_exponential_moving_average_filter</code><span class="sig-paren">(</span>float <em>alpha</em>, size_t <em>send_every</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor37add_exponential_moving_average_filterEf6size_t"title="Permalink to this definition">¶</a><br><dd><p>Helper to make adding exponential decay average filters a bit easier.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor13clear_filtersEv"><span id="_CPPv2N10esphomelib6sensor6Sensor13clear_filtersEv"></span><span id="esphomelib::sensor::Sensor::clear_filters"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1adbec1f253d244763da508ce38d424c34"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">clear_filters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor13clear_filtersEv"title="Permalink to this definition">¶</a><br><dd><p>Clear the entire filter chain.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor6Sensor9get_valueEv"><span id="_CPPv2NK10esphomelib6sensor6Sensor9get_valueEv"></span><span id="esphomelib::sensor::Sensor::get_valueC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a99db1fddeec8b9b3ea3233c38ba47893"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">get_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor6Sensor9get_valueEv"title="Permalink to this definition">¶</a><br><dd><p>Get the latest filtered value from this sensor.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor6Sensor13get_raw_valueEv"><span id="_CPPv2NK10esphomelib6sensor6Sensor13get_raw_valueEv"></span><span id="esphomelib::sensor::Sensor::get_raw_valueC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a17a4df54e374056281a33344b0f04ceb"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">get_raw_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor6Sensor13get_raw_valueEv"title="Permalink to this definition">¶</a><br><dd><p>Get the latest raw value from this sensor.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor6Sensor11get_filtersEv"><span id="_CPPv2NK10esphomelib6sensor6Sensor11get_filtersEv"></span><span id="esphomelib::sensor::Sensor::get_filtersC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a72fcec0a5f6a7e4e3704158cb88305d5"></span>std::list&lt;<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6FilterE"title="esphomelib::sensor::Filter">Filter</a> *&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">get_filters</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor6Sensor11get_filtersEv"title="Permalink to this definition">¶</a><br><dd><p>Return the vector of filters this component uses for its value calculations.<p>Note that if you’re using this method, you’re probably doing something wrong. The <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor_1adbec1f253d244763da508ce38d424c34"><span class="std std-ref">clear_filters()</span></a> and <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor_1a9a7e86bcdd35b0b123e327aa1b2effe8"><span class="std std-ref">add_filter()</span></a> methods should be the only methods you need.<p><dl class="docutils"><dt><strong>Return</strong><dd>Returns an std::vector&lt;Filter *&gt; of all filters in the filter chain.</dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor21get_accuracy_decimalsEv"><span id="_CPPv2N10esphomelib6sensor6Sensor21get_accuracy_decimalsEv"></span><span id="esphomelib::sensor::Sensor::get_accuracy_decimals"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1afbc368505b0a3812bd825f1d794dd42a"></span>int8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">get_accuracy_decimals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor21get_accuracy_decimalsEv"title="Permalink to this definition">¶</a><br><dd><p>Get the accuracy in decimals used by this MQTT <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor"><span class="std std-ref">Sensor</span></a>, first checks override, then sensor.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor23get_unit_of_measurementEv"><span id="_CPPv2N10esphomelib6sensor6Sensor23get_unit_of_measurementEv"></span><span id="esphomelib::sensor::Sensor::get_unit_of_measurement"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a4ad4323a4fc6c14ee6b857e27417c478"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">get_unit_of_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor23get_unit_of_measurementEv"title="Permalink to this definition">¶</a><br><dd><p>Get the unit of measurements advertised to Home Assistant. First checks override, then sensor.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor8get_iconEv"><span id="_CPPv2N10esphomelib6sensor6Sensor8get_iconEv"></span><span id="esphomelib::sensor::Sensor::get_icon"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a4c2ef3af5c9cbf30c11643fda0a370d2"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">get_icon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor8get_iconEv"title="Permalink to this definition">¶</a><br><dd><p>Get the icon advertised to Home Assistant.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor14push_new_valueEf"><span id="_CPPv2N10esphomelib6sensor6Sensor14push_new_valueEf"></span><span id="esphomelib::sensor::Sensor::push_new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a1ce47f15ecafb161b4c6d9d285e3e24c"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">push_new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor14push_new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>Push a new value to the MQTT front-end.<p>Note that you should publish the raw value here, i.e. without any rounding as the user can later override this accuracy.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The floating point value.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor19unit_of_measurementEv"><span id="_CPPv2N10esphomelib6sensor6Sensor19unit_of_measurementEv"></span><span id="esphomelib::sensor::Sensor::unit_of_measurement"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a2a3a1887bd460b8b9cc01cb18f125e0e"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">unit_of_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor19unit_of_measurementEv"title="Permalink to this definition">¶</a><br><dd><p>Override this to set the Home Assistant unit of measurement for this sensor.<p>Return “” to disable this feature.<p><dl class="docutils"><dt><strong>Return</strong><dd>The icon of this sensor, for example “°C”.</dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor4iconEv"><span id="_CPPv2N10esphomelib6sensor6Sensor4iconEv"></span><span id="esphomelib::sensor::Sensor::icon"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1abb0cbdbff303efda15d7e526ec653f3c"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">icon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor4iconEv"title="Permalink to this definition">¶</a><br><dd><p>Override this to set the Home Assistant icon for this sensor.<p>Return “” to disable this feature.<p><dl class="docutils"><dt><strong>Return</strong><dd>The icon of this sensor, for example “mdi:battery”.</dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor15update_intervalEv"><span id="_CPPv2N10esphomelib6sensor6Sensor15update_intervalEv"></span><span id="esphomelib::sensor::Sensor::update_interval"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a16bff5d7eb2caf683e43f4a9a9e07d42"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">update_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor15update_intervalEv"title="Permalink to this definition">¶</a><br><dd><p>Return with which interval the sensor is polled. Return 0 for non-polling mode.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor17accuracy_decimalsEv"><span id="_CPPv2N10esphomelib6sensor6Sensor17accuracy_decimalsEv"></span><span id="esphomelib::sensor::Sensor::accuracy_decimals"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1aa08abc3121096e38bbf6348a1e19442b"></span>int8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">accuracy_decimals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor17accuracy_decimalsEv"title="Permalink to this definition">¶</a><br><dd><p>Return the accuracy in decimals for this sensor.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor21add_on_value_callbackE17sensor_callback_t"><span id="_CPPv2N10esphomelib6sensor6Sensor21add_on_value_callbackE17sensor_callback_t"></span><span id="esphomelib::sensor::Sensor::add_on_value_callback__sensor_callback_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1aa08d874f60178b7afd921fb360c58164"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_on_value_callback</code><span class="sig-paren">(</span>sensor_callback_t <em>callback</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor21add_on_value_callbackE17sensor_callback_t"title="Permalink to this definition">¶</a><br><dd><p>Add a callback that will be called every time a filtered value arrives.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor25add_on_raw_value_callbackE17sensor_callback_t"><span id="_CPPv2N10esphomelib6sensor6Sensor25add_on_raw_value_callbackE17sensor_callback_t"></span><span id="esphomelib::sensor::Sensor::add_on_raw_value_callback__sensor_callback_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1ad1c0a25de0a58493925dfe2fe6124b24"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">add_on_raw_value_callback</code><span class="sig-paren">(</span>sensor_callback_t <em>callback</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor25add_on_raw_value_callbackE17sensor_callback_t"title="Permalink to this definition">¶</a><br><dd><p>Add a callback that will be called every time the sensor sends a raw value.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Sensor9unique_idEv"><span id="_CPPv2N10esphomelib6sensor6Sensor9unique_idEv"></span><span id="esphomelib::sensor::Sensor::unique_id"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a3c1b61a6e6d50cc97ba5e6bee7dc91ec"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">unique_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor9unique_idEv"title="Permalink to this definition">¶</a><br><dd><p>A unique ID for this sensor, empty for no unique id.<p>See unique ID requirements: <a class="reference external"href="https://developers.home-assistant.io/docs/en/entity_registry_index.html#unique-id-requirements">https://developers.home-assistant.io/docs/en/entity_registry_index.html#unique-id-requirements</a><p><dl class="docutils"><dt><strong>Return</strong><dd>The unique id as a string.</dl><p></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor6value_E"><span id="_CPPv2N10esphomelib6sensor6Sensor6value_E"></span><span id="esphomelib::sensor::Sensor::value___float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1adf46b9bd93a633ce66ba5519994e0f93"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">value_</code> = {NAN}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor6value_E"title="Permalink to this definition">¶</a><br><dd><p>Stores the last filtered value.</dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor10raw_value_E"><span id="_CPPv2N10esphomelib6sensor6Sensor10raw_value_E"></span><span id="esphomelib::sensor::Sensor::raw_value___float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a062e31ea47e47497210f874d27828d51"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">raw_value_</code> = {NAN}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor10raw_value_E"title="Permalink to this definition">¶</a><br><dd><p>Stores the last raw value.</dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor13raw_callback_E"><span id="_CPPv2N10esphomelib6sensor6Sensor13raw_callback_E"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a7e80894d1caa94618ff2689af60e616c"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib15CallbackManagerE"title="esphomelib::CallbackManager">CallbackManager</a>&lt;void<span class="sig-paren">(</span>float<span class="sig-paren">)</span>&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">raw_callback_</code> = {}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor13raw_callback_E"title="Permalink to this definition">¶</a><br><dd><p>Storage for raw value callbacks.</dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor9callback_E"><span id="_CPPv2N10esphomelib6sensor6Sensor9callback_E"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1a8d5ddbd1dfeaef99b30c12b1b8aed4fd"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib15CallbackManagerE"title="esphomelib::CallbackManager">CallbackManager</a>&lt;void<span class="sig-paren">(</span>float<span class="sig-paren">)</span>&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">callback_</code> = {}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor9callback_E"title="Permalink to this definition">¶</a><br><dd><p>Storage for filtered value callbacks.</dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor20unit_of_measurement_E"><span id="_CPPv2N10esphomelib6sensor6Sensor20unit_of_measurement_E"></span><span id="esphomelib::sensor::Sensor::unit_of_measurement___Optional:ss:"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1aaa89eb53194fdc72321a3cdb65ddbef3"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;std::string&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">unit_of_measurement_</code> = {}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor20unit_of_measurement_E"title="Permalink to this definition">¶</a><br><dd><p>Override the unit of measurement.</dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor5icon_E"><span id="_CPPv2N10esphomelib6sensor6Sensor5icon_E"></span><span id="esphomelib::sensor::Sensor::icon___Optional:ss:"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1ac59c8c9c2b0d2febe9edb2923af71ac0"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;std::string&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">icon_</code> = {}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor5icon_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor18accuracy_decimals_E"><span id="_CPPv2N10esphomelib6sensor6Sensor18accuracy_decimals_E"></span><span id="esphomelib::sensor::Sensor::accuracy_decimals___Optional:int8_t:"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1adc8e6eb68909fb60decf01dd9ef7da93"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;int8_t&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">accuracy_decimals_</code> = {}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor18accuracy_decimals_E"title="Permalink to this definition">¶</a><br><dd><p>Override the accuracy in decimals, otherwise the sensor’s values will be used.</dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6Sensor8filters_E"><span id="_CPPv2N10esphomelib6sensor6Sensor8filters_E"></span><span id="esphomelib::sensor::Sensor::filters___std::list:FilterP:"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sensor_1acdea7bb1e87190fac50d2a3247eefca5"></span>std::list&lt;<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6FilterE"title="esphomelib::sensor::Filter">Filter</a> *&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a><code class="descname">filters_</code> = {}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Sensor8filters_E"title="Permalink to this definition">¶</a><br><dd><p>Store all active filters.</dl></div></dl><dl class="type"><dt><span class="target"id="sensor_8h_1a88921d420ae341a907ff9ede5fee2f95"></span><em class="property">using </em><code class="descname">esphomelib::sensor::sensor_callback_t = typedef std::function&lt;void(float)&gt;</code><dd></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor22PollingSensorComponentE"><span id="_CPPv2N10esphomelib6sensor22PollingSensorComponentE"></span><span id="esphomelib::sensor::PollingSensorComponent"></span><span class="target"id="classesphomelib_1_1sensor_1_1_polling_sensor_component"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">PollingSensorComponent</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor22PollingSensorComponentE"title="Permalink to this definition">¶</a><br><dd><p>Inherits from <a class="reference internal"href="../core/component.html#classesphomelib_1_1_polling_component"><span class="std std-ref">esphomelib::PollingComponent</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor"><span class="std std-ref">esphomelib::sensor::Sensor</span></a><p>Subclassed by <a class="reference internal"href="adc-sensor.html#classesphomelib_1_1sensor_1_1_a_d_c_sensor_component"><span class="std std-ref">esphomelib::sensor::ADCSensorComponent</span></a>, <a class="reference internal"href="pulse-counter.html#classesphomelib_1_1sensor_1_1_pulse_counter_sensor_component"><span class="std std-ref">esphomelib::sensor::PulseCounterSensorComponent</span></a>, <a class="reference internal"href="ultrasonic.html#classesphomelib_1_1sensor_1_1_ultrasonic_sensor_component"><span class="std std-ref">esphomelib::sensor::UltrasonicSensorComponent</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor22PollingSensorComponent22PollingSensorComponentERKNSt6stringE8uint32_t"><span id="_CPPv2N10esphomelib6sensor22PollingSensorComponent22PollingSensorComponentERKNSt6stringE8uint32_t"></span><span id="esphomelib::sensor::PollingSensorComponent::PollingSensorComponent__ssCR.uint32_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_polling_sensor_component_1ada0538d87c52c7a5f89312bf8a1904d0"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor22PollingSensorComponentE"title="esphomelib::sensor::PollingSensorComponent">PollingSensorComponent</a><code class="descname">PollingSensorComponent</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em>, uint32_t <em>update_interval</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor22PollingSensorComponent22PollingSensorComponentERKNSt6stringE8uint32_t"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor22PollingSensorComponent15update_intervalEv"><span id="_CPPv2N10esphomelib6sensor22PollingSensorComponent15update_intervalEv"></span><span id="esphomelib::sensor::PollingSensorComponent::update_interval"></span><span class="target"id="classesphomelib_1_1sensor_1_1_polling_sensor_component_1af517f26beb34b4e7a90b5071010037fc"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor22PollingSensorComponentE"title="esphomelib::sensor::PollingSensorComponent">PollingSensorComponent</a><code class="descname">update_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor22PollingSensorComponent15update_intervalEv"title="Permalink to this definition">¶</a><br><dd><p>Return with which interval the sensor is polled. Return 0 for non-polling mode.</dl></div></dl><dl class="class"><dt><span class="target"id="classesphomelib_1_1sensor_1_1_empty_sensor"></span><em class="property">template </em>&lt;int8_t <em>default_accuracy_decimals</em>, const char * <em>default_icon</em>, const char * <em>default_unit_of_measurement</em>&gt;<dt id="_CPPv3N10esphomelib6sensor11EmptySensorE"><span id="_CPPv2N10esphomelib6sensor11EmptySensorE"></span><span id="esphomelib::sensor::EmptySensor"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">EmptySensor</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor11EmptySensorE"title="Permalink to this definition">¶</a><br><dd><p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sensor"><span class="std std-ref">esphomelib::sensor::Sensor</span></a><p>Subclassed by <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_empty_polling_parent_sensor"><span class="std std-ref">esphomelib::sensor::EmptyPollingParentSensor&lt; 1, ICON_EMPTY, UNIT_C, DallasComponent &gt;</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_empty_polling_parent_sensor"><span class="std std-ref">esphomelib::sensor::EmptyPollingParentSensor&lt; default_accuracy_decimals, default_icon, default_unit_of_measurement, ParentType &gt;</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor11EmptySensor11EmptySensorERKNSt6stringE"><span id="_CPPv2N10esphomelib6sensor11EmptySensor11EmptySensorERKNSt6stringE"></span><span id="esphomelib::sensor::EmptySensor::EmptySensor__ssCR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_empty_sensor_1ab947dfcbcf5731a424929304f316b598"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor11EmptySensorE"title="esphomelib::sensor::EmptySensor">EmptySensor</a><code class="descname">EmptySensor</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor11EmptySensor11EmptySensorERKNSt6stringE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor11EmptySensor19unit_of_measurementEv"><span id="_CPPv2N10esphomelib6sensor11EmptySensor19unit_of_measurementEv"></span><span id="esphomelib::sensor::EmptySensor::unit_of_measurement"></span><span class="target"id="classesphomelib_1_1sensor_1_1_empty_sensor_1a6c1af3174375c13e782009d6e69ecbef"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor11EmptySensorE"title="esphomelib::sensor::EmptySensor">EmptySensor</a><code class="descname">unit_of_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor11EmptySensor19unit_of_measurementEv"title="Permalink to this definition">¶</a><br><dd><p>Override this to set the Home Assistant unit of measurement for this sensor.<p>Return “” to disable this feature.<p><dl class="docutils"><dt><strong>Return</strong><dd>The icon of this sensor, for example “°C”.</dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor11EmptySensor4iconEv"><span id="_CPPv2N10esphomelib6sensor11EmptySensor4iconEv"></span><span id="esphomelib::sensor::EmptySensor::icon"></span><span class="target"id="classesphomelib_1_1sensor_1_1_empty_sensor_1aea8b08046582b2e5fdccb462b507d139"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor11EmptySensorE"title="esphomelib::sensor::EmptySensor">EmptySensor</a><code class="descname">icon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor11EmptySensor4iconEv"title="Permalink to this definition">¶</a><br><dd><p>Override this to set the Home Assistant icon for this sensor.<p>Return “” to disable this feature.<p><dl class="docutils"><dt><strong>Return</strong><dd>The icon of this sensor, for example “mdi:battery”.</dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor11EmptySensor17accuracy_decimalsEv"><span id="_CPPv2N10esphomelib6sensor11EmptySensor17accuracy_decimalsEv"></span><span id="esphomelib::sensor::EmptySensor::accuracy_decimals"></span><span class="target"id="classesphomelib_1_1sensor_1_1_empty_sensor_1a5d8f286776ac555fbcb0ab47ffc79f22"></span>int8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor11EmptySensorE"title="esphomelib::sensor::EmptySensor">EmptySensor</a><code class="descname">accuracy_decimals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor11EmptySensor17accuracy_decimalsEv"title="Permalink to this definition">¶</a><br><dd><p>Return the accuracy in decimals for this sensor.</dl></div></dl><dl class="class"><dt><span class="target"id="classesphomelib_1_1sensor_1_1_empty_polling_parent_sensor"></span><em class="property">template </em>&lt;int8_t <em>default_accuracy_decimals</em>, const char * <em>default_icon</em>, const char * <em>default_unit_of_measurement</em>, class <em>ParentType</em>&gt;<dt id="_CPPv3N10esphomelib6sensor24EmptyPollingParentSensorE"><span id="_CPPv2N10esphomelib6sensor24EmptyPollingParentSensorE"></span><span id="esphomelib::sensor::EmptyPollingParentSensor"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">EmptyPollingParentSensor</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor24EmptyPollingParentSensorE"title="Permalink to this definition">¶</a><br><dd><p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_empty_sensor"><span class="std std-ref">esphomelib::sensor::EmptySensor&lt; default_accuracy_decimals, default_icon, default_unit_of_measurement &gt;</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor24EmptyPollingParentSensor24EmptyPollingParentSensorERKNSt6stringEP10ParentType"><span id="_CPPv2N10esphomelib6sensor24EmptyPollingParentSensor24EmptyPollingParentSensorERKNSt6stringEP10ParentType"></span><span id="esphomelib::sensor::EmptyPollingParentSensor::EmptyPollingParentSensor__ssCR.ParentTypeP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_empty_polling_parent_sensor_1ab485204a9023f5c79b0d567047dcc2b3"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor24EmptyPollingParentSensorE"title="esphomelib::sensor::EmptyPollingParentSensor">EmptyPollingParentSensor</a><code class="descname">EmptyPollingParentSensor</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em>, ParentType *<em>parent</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor24EmptyPollingParentSensor24EmptyPollingParentSensorERKNSt6stringEP10ParentType"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor24EmptyPollingParentSensor15update_intervalEv"><span id="_CPPv2N10esphomelib6sensor24EmptyPollingParentSensor15update_intervalEv"></span><span id="esphomelib::sensor::EmptyPollingParentSensor::update_interval"></span><span class="target"id="classesphomelib_1_1sensor_1_1_empty_polling_parent_sensor_1a8b52ce2c5942def00749c6473fbf7453"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor24EmptyPollingParentSensorE"title="esphomelib::sensor::EmptyPollingParentSensor">EmptyPollingParentSensor</a><code class="descname">update_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor24EmptyPollingParentSensor15update_intervalEv"title="Permalink to this definition">¶</a><br><dd><p>Return with which interval the sensor is polled. Return 0 for non-polling mode.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor24EmptyPollingParentSensor7parent_E"><span id="_CPPv2N10esphomelib6sensor24EmptyPollingParentSensor7parent_E"></span><span id="esphomelib::sensor::EmptyPollingParentSensor::parent___ParentTypeP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_empty_polling_parent_sensor_1adf9900cab264f8cd7b30b9d2767c04a7"></span>ParentType *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor24EmptyPollingParentSensorE"title="esphomelib::sensor::EmptyPollingParentSensor">EmptyPollingParentSensor</a><code class="descname">parent_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor24EmptyPollingParentSensor7parent_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor10ICON_EMPTYE"><span id="_CPPv2N10esphomelib6sensor10ICON_EMPTYE"></span><span id="esphomelib::sensor::ICON_EMPTY__cC"></span><span class="target"id="sensor_8cpp_1acd759126d9f85f29757454cc1e5f8279"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">ICON_EMPTY</code> = &quot;&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor10ICON_EMPTYE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor18ICON_WATER_PERCENTE"><span id="_CPPv2N10esphomelib6sensor18ICON_WATER_PERCENTE"></span><span id="esphomelib::sensor::ICON_WATER_PERCENT__cC"></span><span class="target"id="sensor_8cpp_1aec5ead16488f731c74f58f370bc8341a"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">ICON_WATER_PERCENT</code> = &quot;mdi:water-percent&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor18ICON_WATER_PERCENTE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor10ICON_GAUGEE"><span id="_CPPv2N10esphomelib6sensor10ICON_GAUGEE"></span><span id="esphomelib::sensor::ICON_GAUGE__cC"></span><span class="target"id="sensor_8cpp_1a9634f931175f0afce03433359fbe5c7b"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">ICON_GAUGE</code> = &quot;mdi:gauge&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor10ICON_GAUGEE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor10ICON_FLASHE"><span id="_CPPv2N10esphomelib6sensor10ICON_FLASHE"></span><span id="esphomelib::sensor::ICON_FLASH__cC"></span><span class="target"id="sensor_8cpp_1a1695f6ede002750a63047796cdaa852e"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">ICON_FLASH</code> = &quot;mdi:flash&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor10ICON_FLASHE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor20ICON_SCREEN_ROTATIONE"><span id="_CPPv2N10esphomelib6sensor20ICON_SCREEN_ROTATIONE"></span><span id="esphomelib::sensor::ICON_SCREEN_ROTATION__cC"></span><span class="target"id="sensor_8cpp_1a887a6c6b3952a39b2cf840c2aa7bd546"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">ICON_SCREEN_ROTATION</code> = &quot;mdi:screen-rotation&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor20ICON_SCREEN_ROTATIONE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor23ICON_BRIEFCASE_DOWNLOADE"><span id="_CPPv2N10esphomelib6sensor23ICON_BRIEFCASE_DOWNLOADE"></span><span id="esphomelib::sensor::ICON_BRIEFCASE_DOWNLOAD__cC"></span><span class="target"id="sensor_8cpp_1a58a64a16fa206d36200a9683dedef7da"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">ICON_BRIEFCASE_DOWNLOAD</code> = &quot;mdi:briefcase-download&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor23ICON_BRIEFCASE_DOWNLOADE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6UNIT_CE"><span id="_CPPv2N10esphomelib6sensor6UNIT_CE"></span><span id="esphomelib::sensor::UNIT_C__cC"></span><span class="target"id="sensor_8cpp_1aa47d51f07bd0863e9c9b8820bd450591"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">UNIT_C</code> = &quot;°C&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6UNIT_CE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor12UNIT_PERCENTE"><span id="_CPPv2N10esphomelib6sensor12UNIT_PERCENTE"></span><span id="esphomelib::sensor::UNIT_PERCENT__cC"></span><span class="target"id="sensor_8cpp_1a4c7d98fa675e017ef527527b2882cadb"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">UNIT_PERCENT</code> = &quot;%&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor12UNIT_PERCENTE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor8UNIT_HPAE"><span id="_CPPv2N10esphomelib6sensor8UNIT_HPAE"></span><span id="esphomelib::sensor::UNIT_HPA__cC"></span><span class="target"id="sensor_8cpp_1ae23be49ecd8a63099aed59bbbc5f7c5e"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">UNIT_HPA</code> = &quot;hPa&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor8UNIT_HPAE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor6UNIT_VE"><span id="_CPPv2N10esphomelib6sensor6UNIT_VE"></span><span id="esphomelib::sensor::UNIT_V__cC"></span><span class="target"id="sensor_8cpp_1ac3f7892e5aeedf2c082f8cc7588f95e9"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">UNIT_V</code> = &quot;V&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6UNIT_VE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor23UNIT_DEGREES_PER_SECONDE"><span id="_CPPv2N10esphomelib6sensor23UNIT_DEGREES_PER_SECONDE"></span><span id="esphomelib::sensor::UNIT_DEGREES_PER_SECOND__cC"></span><span class="target"id="sensor_8cpp_1a284c800058cae737990525e1c9a27dab"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">UNIT_DEGREES_PER_SECOND</code> = &quot;°/s&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor23UNIT_DEGREES_PER_SECONDE"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor20UNIT_M_PER_S_SQUAREDE"><span id="_CPPv2N10esphomelib6sensor20UNIT_M_PER_S_SQUAREDE"></span><span id="esphomelib::sensor::UNIT_M_PER_S_SQUARED__cC"></span><span class="target"id="sensor_8cpp_1a29014b4549888d0d8ec90ec327238dc1"></span><em class="property">const</em> char esphomelib::sensor<code class="descclassname">::</code><code class="descname">UNIT_M_PER_S_SQUARED</code> = &quot;m/s²&quot;<a class="headerlink"href="#_CPPv3N10esphomelib6sensor20UNIT_M_PER_S_SQUAREDE"title="Permalink to this definition">¶</a><br><dd></dl></div><div class="section"id="filter"><h3>Filter<a class="headerlink"href="#filter"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N10esphomelib6sensor6FilterE"><span id="_CPPv2N10esphomelib6sensor6FilterE"></span><span id="esphomelib::sensor::Filter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">Filter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6FilterE"title="Permalink to this definition">¶</a><br><dd><p>Apply a filter to sensor values such as moving average.<p>This class is purposefully kept quite simple, since more complicated filters should really be done with the filter sensor in Home Assistant.<p>Subclassed by <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_exponential_moving_average_filter"><span class="std std-ref">esphomelib::sensor::ExponentialMovingAverageFilter</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter_out_n_a_n_filter"><span class="std std-ref">esphomelib::sensor::FilterOutNANFilter</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter_out_value_filter"><span class="std std-ref">esphomelib::sensor::FilterOutValueFilter</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_lambda_filter"><span class="std std-ref">esphomelib::sensor::LambdaFilter</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_multiply_filter"><span class="std std-ref">esphomelib::sensor::MultiplyFilter</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_offset_filter"><span class="std std-ref">esphomelib::sensor::OffsetFilter</span></a>, <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter"><span class="std std-ref">esphomelib::sensor::SlidingWindowMovingAverageFilter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Filter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor6Filter9new_valueEf"></span><span id="esphomelib::sensor::Filter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_1a27e3a1d5c48975bd38c3483a08bf50b4"></span><em class="property">virtual</em> <a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6FilterE"title="esphomelib::sensor::Filter">Filter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span> = 0<a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Filter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor6Filter17expected_intervalE8uint32_t"><span id="_CPPv2N10esphomelib6sensor6Filter17expected_intervalE8uint32_t"></span><span id="esphomelib::sensor::Filter::expected_interval__uint32_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_1aa224b1ec8acaaa596954f53d587e0963"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor6FilterE"title="esphomelib::sensor::Filter">Filter</a><code class="descname">expected_interval</code><span class="sig-paren">(</span>uint32_t <em>input</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor6Filter17expected_intervalE8uint32_t"title="Permalink to this definition">¶</a><br><dd><p>Return the amount of time that this filter is expected to take based on the input time interval.</dl></div></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">SlidingWindowMovingAverageFilter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="Permalink to this definition">¶</a><br><dd><p>Simple sliding window moving average filter.<p>Essentially just takes takes the average of the last window_size values and pushes them out every send_every.<p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter"><span class="std std-ref">esphomelib::sensor::Filter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter32SlidingWindowMovingAverageFilterE6size_t6size_t"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter32SlidingWindowMovingAverageFilterE6size_t6size_t"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::SlidingWindowMovingAverageFilter__s.s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a90e0affc13674e5344e36778bc98c79a"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">SlidingWindowMovingAverageFilter</code><span class="sig-paren">(</span>size_t <em>window_size</em>, size_t <em>send_every</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter32SlidingWindowMovingAverageFilterE6size_t6size_t"title="Permalink to this definition">¶</a><br><dd><p>Construct a <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter"><span class="std std-ref">SlidingWindowMovingAverageFilter</span></a>.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">window_size</span></code>: The number of values that should be averaged.<li><code class="docutils literal notranslate"><span class="pre">send_every</span></code>: After how many sensor values should a new one be pushed out.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter9new_valueEf"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a186f459209f5d9a15357e611b5fe2b53"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor32SlidingWindowMovingAverageFilter14get_send_everyEv"><span id="_CPPv2NK10esphomelib6sensor32SlidingWindowMovingAverageFilter14get_send_everyEv"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::get_send_everyC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1add2c5e309a56b5b28395bea02531f7d4"></span>size_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">get_send_every</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor32SlidingWindowMovingAverageFilter14get_send_everyEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter14set_send_everyE6size_t"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter14set_send_everyE6size_t"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::set_send_every__s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a2b512d48f0174ebbd5ab63219cfb61a9"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">set_send_every</code><span class="sig-paren">(</span>size_t <em>send_every</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter14set_send_everyE6size_t"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor32SlidingWindowMovingAverageFilter15get_window_sizeEv"><span id="_CPPv2NK10esphomelib6sensor32SlidingWindowMovingAverageFilter15get_window_sizeEv"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::get_window_sizeC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a47c2b7568d5ad2666c5dbe0d57cf842c"></span>size_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">get_window_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor32SlidingWindowMovingAverageFilter15get_window_sizeEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter15set_window_sizeE6size_t"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter15set_window_sizeE6size_t"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::set_window_size__s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a9651f30d91bddbe879e9f6fce5eb518a"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">set_window_size</code><span class="sig-paren">(</span>size_t <em>window_size</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter15set_window_sizeE6size_t"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter17expected_intervalE8uint32_t"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter17expected_intervalE8uint32_t"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::expected_interval__uint32_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a96f48a715756c76a033358e6871f673e"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">expected_interval</code><span class="sig-paren">(</span>uint32_t <em>input</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter17expected_intervalE8uint32_t"title="Permalink to this definition">¶</a><br><dd><p>Return the amount of time that this filter is expected to take based on the input time interval.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter14value_average_E"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter14value_average_E"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::value_average___SlidingWindowMovingAverage:float:"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a48527a0f366d5235b244db8bdf384e53"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib26SlidingWindowMovingAverageE"title="esphomelib::SlidingWindowMovingAverage">SlidingWindowMovingAverage</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">value_average_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter14value_average_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter11send_every_E"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter11send_every_E"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::send_every___s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1a98bbc5f1d624e79f86c027c856143d92"></span>size_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">send_every_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter11send_every_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter8send_at_E"><span id="_CPPv2N10esphomelib6sensor32SlidingWindowMovingAverageFilter8send_at_E"></span><span id="esphomelib::sensor::SlidingWindowMovingAverageFilter::send_at___s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_sliding_window_moving_average_filter_1aaf264ae9477947c358cd89fb05acb180"></span>size_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilterE"title="esphomelib::sensor::SlidingWindowMovingAverageFilter">SlidingWindowMovingAverageFilter</a><code class="descname">send_at_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor32SlidingWindowMovingAverageFilter8send_at_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilterE"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">ExponentialMovingAverageFilter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="Permalink to this definition">¶</a><br><dd><p>Simple exponential moving average filter.<p>Essentially just takes the average of the last few values using exponentially decaying weights. Use alpha to adjust decay rate.<p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter"><span class="std std-ref">esphomelib::sensor::Filter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter30ExponentialMovingAverageFilterEf6size_t"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter30ExponentialMovingAverageFilterEf6size_t"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::ExponentialMovingAverageFilter__float.s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1aa3ddca02d2f67b46cf603b4f31c11cfe"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">ExponentialMovingAverageFilter</code><span class="sig-paren">(</span>float <em>alpha</em>, size_t <em>send_every</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter30ExponentialMovingAverageFilterEf6size_t"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter9new_valueEf"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a2b97c562166a090337c48a8867943ea3"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor30ExponentialMovingAverageFilter14get_send_everyEv"><span id="_CPPv2NK10esphomelib6sensor30ExponentialMovingAverageFilter14get_send_everyEv"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::get_send_everyC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a5bc142182bb5713172d9a6cc2bdff019"></span>size_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">get_send_every</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor30ExponentialMovingAverageFilter14get_send_everyEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter14set_send_everyE6size_t"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter14set_send_everyE6size_t"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::set_send_every__s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a1b6fd9854b12b4d1570ee193f74c4f07"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">set_send_every</code><span class="sig-paren">(</span>size_t <em>send_every</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter14set_send_everyE6size_t"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor30ExponentialMovingAverageFilter9get_alphaEv"><span id="_CPPv2NK10esphomelib6sensor30ExponentialMovingAverageFilter9get_alphaEv"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::get_alphaC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a43488271d5e69ca98cfee039796450cc"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">get_alpha</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor30ExponentialMovingAverageFilter9get_alphaEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter9set_alphaEf"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter9set_alphaEf"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::set_alpha__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a087dea2a3a1081767bf2d974f3de737f"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">set_alpha</code><span class="sig-paren">(</span>float <em>alpha</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter9set_alphaEf"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter17expected_intervalE8uint32_t"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter17expected_intervalE8uint32_t"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::expected_interval__uint32_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1ae403773d36caacb2a23730fa49eba4d4"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">expected_interval</code><span class="sig-paren">(</span>uint32_t <em>input</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter17expected_intervalE8uint32_t"title="Permalink to this definition">¶</a><br><dd><p>Return the amount of time that this filter is expected to take based on the input time interval.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter14value_average_E"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter14value_average_E"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::value_average___ExponentialMovingAverage"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a911f947c4146a18c44619cda733e981f"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib24ExponentialMovingAverageE"title="esphomelib::ExponentialMovingAverage">ExponentialMovingAverage</a> esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">value_average_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter14value_average_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter17accuracy_average_E"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter17accuracy_average_E"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::accuracy_average___ExponentialMovingAverage"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a6f8944d340ad80777c2c0d62000653f7"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib24ExponentialMovingAverageE"title="esphomelib::ExponentialMovingAverage">ExponentialMovingAverage</a> esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">accuracy_average_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter17accuracy_average_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter11send_every_E"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter11send_every_E"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::send_every___s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a39ac96affbc501a694d87852bc4e8c35"></span>size_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">send_every_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter11send_every_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter8send_at_E"><span id="_CPPv2N10esphomelib6sensor30ExponentialMovingAverageFilter8send_at_E"></span><span id="esphomelib::sensor::ExponentialMovingAverageFilter::send_at___s"></span><span class="target"id="classesphomelib_1_1sensor_1_1_exponential_moving_average_filter_1a3ad65d6b3ee789e1a707d86c014c7007"></span>size_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilterE"title="esphomelib::sensor::ExponentialMovingAverageFilter">ExponentialMovingAverageFilter</a><code class="descname">send_at_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor30ExponentialMovingAverageFilter8send_at_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="type"><dt><span class="target"id="filter_8h_1a7f08f8a48b4ab5612ae06140dc1c10eb"></span><em class="property">using </em><code class="descname">esphomelib::sensor::lambda_filter_t = typedef std::function&lt;Optional&lt;float&gt;(float)&gt;</code><dd></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor12LambdaFilterE"><span id="_CPPv2N10esphomelib6sensor12LambdaFilterE"></span><span id="esphomelib::sensor::LambdaFilter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_lambda_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">LambdaFilter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12LambdaFilterE"title="Permalink to this definition">¶</a><br><dd><p>This class allows for creation of simple template filters.<p>The constructor accepts a lambda of the form float -&gt; Optional&lt;float&gt;. It will be called with each new value in the filter chain and returns the modified value that shall be passed down the filter chain. Returning an empty <a class="reference internal"href="../core/helpers.html#classesphomelib_1_1_optional"><span class="std std-ref">Optional</span></a> means that the value shall be discarded.<p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter"><span class="std std-ref">esphomelib::sensor::Filter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor12LambdaFilter12LambdaFilterE15lambda_filter_t"><span id="_CPPv2N10esphomelib6sensor12LambdaFilter12LambdaFilterE15lambda_filter_t"></span><span id="esphomelib::sensor::LambdaFilter::LambdaFilter__lambda_filter_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_lambda_filter_1ad3f07216afa3ce52ed229bc055385a24"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12LambdaFilterE"title="esphomelib::sensor::LambdaFilter">LambdaFilter</a><code class="descname">LambdaFilter</code><span class="sig-paren">(</span>lambda_filter_t <em>lambda_filter</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12LambdaFilter12LambdaFilterE15lambda_filter_t"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor12LambdaFilter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor12LambdaFilter9new_valueEf"></span><span id="esphomelib::sensor::LambdaFilter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_lambda_filter_1a70213b8dd25330f1f960f66bf185539d"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12LambdaFilterE"title="esphomelib::sensor::LambdaFilter">LambdaFilter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12LambdaFilter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor12LambdaFilter17get_lambda_filterEv"><span id="_CPPv2NK10esphomelib6sensor12LambdaFilter17get_lambda_filterEv"></span><span id="esphomelib::sensor::LambdaFilter::get_lambda_filterC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_lambda_filter_1aff975461a45e12c76166e24aee5aec46"></span><em class="property">const</em> lambda_filter_t &amp;esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12LambdaFilterE"title="esphomelib::sensor::LambdaFilter">LambdaFilter</a><code class="descname">get_lambda_filter</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor12LambdaFilter17get_lambda_filterEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor12LambdaFilter17set_lambda_filterERK15lambda_filter_t"><span id="_CPPv2N10esphomelib6sensor12LambdaFilter17set_lambda_filterERK15lambda_filter_t"></span><span id="esphomelib::sensor::LambdaFilter::set_lambda_filter__lambda_filter_tCR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_lambda_filter_1aadf24c572c207747528570a825f5ec45"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12LambdaFilterE"title="esphomelib::sensor::LambdaFilter">LambdaFilter</a><code class="descname">set_lambda_filter</code><span class="sig-paren">(</span><em class="property">const</em> lambda_filter_t &amp;<em>lambda_filter</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12LambdaFilter17set_lambda_filterERK15lambda_filter_t"title="Permalink to this definition">¶</a><br><dd></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor12LambdaFilter14lambda_filter_E"><span id="_CPPv2N10esphomelib6sensor12LambdaFilter14lambda_filter_E"></span><span id="esphomelib::sensor::LambdaFilter::lambda_filter___lambda_filter_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_lambda_filter_1a95f26488004bf64df3ee033e5a62b79d"></span>lambda_filter_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12LambdaFilterE"title="esphomelib::sensor::LambdaFilter">LambdaFilter</a><code class="descname">lambda_filter_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12LambdaFilter14lambda_filter_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor12OffsetFilterE"><span id="_CPPv2N10esphomelib6sensor12OffsetFilterE"></span><span id="esphomelib::sensor::OffsetFilter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_offset_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">OffsetFilter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12OffsetFilterE"title="Permalink to this definition">¶</a><br><dd><p>A simple filter that adds <code class="docutils literal notranslate"><span class="pre">offset</span></code> to each value it receives.<p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter"><span class="std std-ref">esphomelib::sensor::Filter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor12OffsetFilter12OffsetFilterEf"><span id="_CPPv2N10esphomelib6sensor12OffsetFilter12OffsetFilterEf"></span><span id="esphomelib::sensor::OffsetFilter::OffsetFilter__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_offset_filter_1aa384f4197d600115acda0c07895eaa32"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12OffsetFilterE"title="esphomelib::sensor::OffsetFilter">OffsetFilter</a><code class="descname">OffsetFilter</code><span class="sig-paren">(</span>float <em>offset</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12OffsetFilter12OffsetFilterEf"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor12OffsetFilter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor12OffsetFilter9new_valueEf"></span><span id="esphomelib::sensor::OffsetFilter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_offset_filter_1a60c87ad065802c9e8e16a2d85a695ba9"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12OffsetFilterE"title="esphomelib::sensor::OffsetFilter">OffsetFilter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12OffsetFilter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor12OffsetFilter7offset_E"><span id="_CPPv2N10esphomelib6sensor12OffsetFilter7offset_E"></span><span id="esphomelib::sensor::OffsetFilter::offset___float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_offset_filter_1af8a07c746558f58a49de50d93fae8c7f"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor12OffsetFilterE"title="esphomelib::sensor::OffsetFilter">OffsetFilter</a><code class="descname">offset_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor12OffsetFilter7offset_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor14MultiplyFilterE"><span id="_CPPv2N10esphomelib6sensor14MultiplyFilterE"></span><span id="esphomelib::sensor::MultiplyFilter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_multiply_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">MultiplyFilter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor14MultiplyFilterE"title="Permalink to this definition">¶</a><br><dd><p>A simple filter that multiplies to each value it receives by <code class="docutils literal notranslate"><span class="pre">multiplier</span></code>.<p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter"><span class="std std-ref">esphomelib::sensor::Filter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor14MultiplyFilter14MultiplyFilterEf"><span id="_CPPv2N10esphomelib6sensor14MultiplyFilter14MultiplyFilterEf"></span><span id="esphomelib::sensor::MultiplyFilter::MultiplyFilter__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_multiply_filter_1ab7e4f30fb3ee06de7fd58324d2d92c3d"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor14MultiplyFilterE"title="esphomelib::sensor::MultiplyFilter">MultiplyFilter</a><code class="descname">MultiplyFilter</code><span class="sig-paren">(</span>float <em>multiplier</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor14MultiplyFilter14MultiplyFilterEf"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor14MultiplyFilter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor14MultiplyFilter9new_valueEf"></span><span id="esphomelib::sensor::MultiplyFilter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_multiply_filter_1a89ad401290aae03e1d2d82d2018ec5fc"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor14MultiplyFilterE"title="esphomelib::sensor::MultiplyFilter">MultiplyFilter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor14MultiplyFilter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor14MultiplyFilter11multiplier_E"><span id="_CPPv2N10esphomelib6sensor14MultiplyFilter11multiplier_E"></span><span id="esphomelib::sensor::MultiplyFilter::multiplier___float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_multiply_filter_1ab3dea7cd10e37dcab1af6b962404f296"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor14MultiplyFilterE"title="esphomelib::sensor::MultiplyFilter">MultiplyFilter</a><code class="descname">multiplier_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor14MultiplyFilter11multiplier_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor20FilterOutValueFilterE"><span id="_CPPv2N10esphomelib6sensor20FilterOutValueFilterE"></span><span id="esphomelib::sensor::FilterOutValueFilter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_out_value_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">FilterOutValueFilter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor20FilterOutValueFilterE"title="Permalink to this definition">¶</a><br><dd><p>A simple filter that only forwards the filter chain if it doesn’t receive <code class="docutils literal notranslate"><span class="pre">value_to_filter_out</span></code>.<p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter"><span class="std std-ref">esphomelib::sensor::Filter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor20FilterOutValueFilter20FilterOutValueFilterEf"><span id="_CPPv2N10esphomelib6sensor20FilterOutValueFilter20FilterOutValueFilterEf"></span><span id="esphomelib::sensor::FilterOutValueFilter::FilterOutValueFilter__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_out_value_filter_1affaa2d65deb8380d29de51420bb3b7a6"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor20FilterOutValueFilterE"title="esphomelib::sensor::FilterOutValueFilter">FilterOutValueFilter</a><code class="descname">FilterOutValueFilter</code><span class="sig-paren">(</span>float <em>values_to_filter_out</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor20FilterOutValueFilter20FilterOutValueFilterEf"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor20FilterOutValueFilter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor20FilterOutValueFilter9new_valueEf"></span><span id="esphomelib::sensor::FilterOutValueFilter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_out_value_filter_1aba55d1191761f4424e37bbbc79411cc1"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor20FilterOutValueFilterE"title="esphomelib::sensor::FilterOutValueFilter">FilterOutValueFilter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor20FilterOutValueFilter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor20FilterOutValueFilter20value_to_filter_out_E"><span id="_CPPv2N10esphomelib6sensor20FilterOutValueFilter20value_to_filter_out_E"></span><span id="esphomelib::sensor::FilterOutValueFilter::value_to_filter_out___float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_out_value_filter_1a41f772c2b90ad4638aa4794e4369c639"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor20FilterOutValueFilterE"title="esphomelib::sensor::FilterOutValueFilter">FilterOutValueFilter</a><code class="descname">value_to_filter_out_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor20FilterOutValueFilter20value_to_filter_out_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor18FilterOutNANFilterE"><span id="_CPPv2N10esphomelib6sensor18FilterOutNANFilterE"></span><span id="esphomelib::sensor::FilterOutNANFilter"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_out_n_a_n_filter"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">FilterOutNANFilter</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor18FilterOutNANFilterE"title="Permalink to this definition">¶</a><br><dd><p>A simple filter that only forwards the filter chain if it doesn’t receive <code class="docutils literal notranslate"><span class="pre">nan</span></code>.<p>Inherits from <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_filter"><span class="std std-ref">esphomelib::sensor::Filter</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor18FilterOutNANFilter9new_valueEf"><span id="_CPPv2N10esphomelib6sensor18FilterOutNANFilter9new_valueEf"></span><span id="esphomelib::sensor::FilterOutNANFilter::new_value__float"></span><span class="target"id="classesphomelib_1_1sensor_1_1_filter_out_n_a_n_filter_1a60b4b45ba89dc2c8e8516e8264e104fd"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;float&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor18FilterOutNANFilterE"title="esphomelib::sensor::FilterOutNANFilter">FilterOutNANFilter</a><code class="descname">new_value</code><span class="sig-paren">(</span>float <em>value</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor18FilterOutNANFilter9new_valueEf"title="Permalink to this definition">¶</a><br><dd><p>This will be called every time the filter receives a new value.<p>It can return an empty optional to indicate that the filter chain should stop, otherwise the value in the filter will be passed down the chain.<p><dl class="docutils"><dt><strong>Return</strong><dd>An optional float, the new value that should be pushed out.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">value</span></code>: The new value.</ul></dl><p></dl></div></dl></div><div class="section"id="mqttsensorcomponent"><h3>MQTTSensorComponent<a class="headerlink"href="#mqttsensorcomponent"title="Permalink to this headline">¶</a></h3><dl class="class"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponentE"></span><span id="esphomelib::sensor::MQTTSensorComponent"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">MQTTSensorComponent</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="Permalink to this definition">¶</a><br><dd><p>Class that exposes sensors to the MQTT frontend.<p>Inherits from <a class="reference internal"href="../core/mqtt.html#classesphomelib_1_1mqtt_1_1_m_q_t_t_component"><span class="std std-ref">esphomelib::mqtt::MQTTComponent</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponent19MQTTSensorComponentEP6Sensor"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponent19MQTTSensorComponentEP6Sensor"></span><span id="esphomelib::sensor::MQTTSensorComponent::MQTTSensorComponent__SensorP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1abd760f1e283019f5e93f634ad7c90a76"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">MQTTSensorComponent</code><span class="sig-paren">(</span><a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a> *<em>sensor</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponent19MQTTSensorComponentEP6Sensor"title="Permalink to this definition">¶</a><br><dd><p>Construct this <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component"><span class="std std-ref">MQTTSensorComponent</span></a> instance with the provided friendly_name and sensor.<p>Note the sensor is never stored and is only used for initializing some values of this class. If sensor is nullptr, then automatic initialization of these fields is disabled.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">sensor</span></code>: The sensor, this can be null to disable automatic setup.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponent16set_expire_afterE8uint32_t"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponent16set_expire_afterE8uint32_t"></span><span id="esphomelib::sensor::MQTTSensorComponent::set_expire_after__uint32_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1ace88bfab20d4f4a3d265a1b054f95e68"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">set_expire_after</code><span class="sig-paren">(</span>uint32_t <em>expire_after</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponent16set_expire_afterE8uint32_t"title="Permalink to this definition">¶</a><br><dd><p>Setup an expiry, 0 disables it.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponent20disable_expire_afterEv"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponent20disable_expire_afterEv"></span><span id="esphomelib::sensor::MQTTSensorComponent::disable_expire_after"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1a65056615803281ec9c8f0c8a72308a30"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">disable_expire_after</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponent20disable_expire_afterEv"title="Permalink to this definition">¶</a><br><dd><p>Disable Home Assistant value exiry.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponent14send_discoveryER10JsonBufferR10JsonObjectRN4mqtt19SendDiscoveryConfigE"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponent14send_discoveryER10JsonBufferR10JsonObjectRN4mqtt19SendDiscoveryConfigE"></span><span id="esphomelib::sensor::MQTTSensorComponent::send_discovery__JsonBufferR.JsonObjectR.mqtt::SendDiscoveryConfigR"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1af5d6c3879f9f0ac916ba17dda0853dcb"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">send_discovery</code><span class="sig-paren">(</span>JsonBuffer &amp;<em>buffer</em>, JsonObject &amp;<em>root</em>, mqtt::<a class="reference internal"href="../core/mqtt.html#_CPPv3N10esphomelib4mqtt19SendDiscoveryConfigE"title="esphomelib::mqtt::SendDiscoveryConfig">SendDiscoveryConfig</a> &amp;<em>config</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponent14send_discoveryER10JsonBufferR10JsonObjectRN4mqtt19SendDiscoveryConfigE"title="Permalink to this definition">¶</a><br><dd><p>Send discovery info the Home Assistant, override this.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponent5setupEv"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponent5setupEv"></span><span id="esphomelib::sensor::MQTTSensorComponent::setup"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1a185172eb7642fa381a241efbb44a2232"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponent5setupEv"title="Permalink to this definition">¶</a><br><dd><p>Override setup.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor19MQTTSensorComponent16get_expire_afterEv"><span id="_CPPv2NK10esphomelib6sensor19MQTTSensorComponent16get_expire_afterEv"></span><span id="esphomelib::sensor::MQTTSensorComponent::get_expire_afterC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1a4b08b931f7a15938c929bd9deea4356c"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">get_expire_after</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor19MQTTSensorComponent16get_expire_afterEv"title="Permalink to this definition">¶</a><br><dd><p>Get the expire_after in milliseconds used for Home Assistant discovery, first checks override.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Functions<dl class="function"><dt id="_CPPv3NK10esphomelib6sensor19MQTTSensorComponent14component_typeEv"><span id="_CPPv2NK10esphomelib6sensor19MQTTSensorComponent14component_typeEv"></span><span id="esphomelib::sensor::MQTTSensorComponent::component_typeC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1aca41cb667a4eda7aeba75ce56163549b"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">component_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor19MQTTSensorComponent14component_typeEv"title="Permalink to this definition">¶</a><br><dd><p>Override for MQTTComponent, returns “sensor”.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor19MQTTSensorComponent13friendly_nameEv"><span id="_CPPv2NK10esphomelib6sensor19MQTTSensorComponent13friendly_nameEv"></span><span id="esphomelib::sensor::MQTTSensorComponent::friendly_nameC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1aafb96d438adb0f3a7cf72e0605be6a85"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">friendly_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor19MQTTSensorComponent13friendly_nameEv"title="Permalink to this definition">¶</a><br><dd><p>Get the friendly name of this MQTT component.</dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponent7sensor_E"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponent7sensor_E"></span><span id="esphomelib::sensor::MQTTSensorComponent::sensor___SensorP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1afefbfb487de815209c82aa37db028671"></span><a class="reference internal"href="#_CPPv3N10esphomelib6sensor6SensorE"title="esphomelib::sensor::Sensor">Sensor</a> *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">sensor_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponent7sensor_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor19MQTTSensorComponent13expire_after_E"><span id="_CPPv2N10esphomelib6sensor19MQTTSensorComponent13expire_after_E"></span><span id="esphomelib::sensor::MQTTSensorComponent::expire_after___Optional:uint32_t:"></span><span class="target"id="classesphomelib_1_1sensor_1_1_m_q_t_t_sensor_component_1aaa5bb286dc666d8191ec89a88f5a8146"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib8OptionalE"title="esphomelib::Optional">Optional</a>&lt;uint32_t&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponentE"title="esphomelib::sensor::MQTTSensorComponent">MQTTSensorComponent</a><code class="descname">expire_after_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor19MQTTSensorComponent13expire_after_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div></div></div></div></div></div><div class="sphinxsidebar"role="navigation"aria-label="main navigation"><div class="sphinxsidebarwrapper"><div class="relations"><h3>Related Topics</h3><ul><li><a href="../../index.html">Documentation overview</a><ul><li><a href="../index.html">API Reference</a><ul><li>Previous: <a href="../core/deep-sleep.html"title="previous chapter">Deep Sleep</a><li>Next: <a href="../binary_sensor/index.html"title="next chapter">Binary Sensor</a></ul></ul></ul></div><div id="searchbox"style="display: none"role="search"><h3>Quick search</h3><div class="searchformwrapper"><form class="search"action="../../search.html"><input name="q"> <input type="submit"value="Go"> <input type="hidden"name="check_keywords"value="yes"> <input type="hidden"name="area"value="default"></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class="clearer"></div></div><div class="footer">&copy;2018, Otto Winter. | Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a> &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a> | <a href="../../_sources/api/sensor/index.rst.txt"rel="nofollow">Page source</a></div><script>var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-113203480-2']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();</script>