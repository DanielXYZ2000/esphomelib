<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="X-UA-Compatible"content="IE=Edge"><meta http-equiv="Content-Type"content="text/html; charset=utf-8"><title>Dallas Component &#8212; esphomelib 1.3.0 documentation</title><link rel="stylesheet"href="../../_static/alabaster.css"type="text/css"><link rel="stylesheet"href="../../_static/pygments.css"type="text/css"><script src="../../_static/documentation_options.js"></script><script src="../../_static/jquery.js"></script><script src="../../_static/underscore.js"></script><script src="../../_static/doctools.js"></script><link rel="index"title="Index"href="../../genindex.html"><link rel="search"title="Search"href="../../search.html"><link rel="next"title="DHT Temperature/Humidity Sensor"href="dht.html"><link rel="prev"title="BMP085 Pressure/Temperature Sensor"href="bmp085.html"><link rel="stylesheet"href="../../_static/custom.css"type="text/css"><meta name="viewport"content="width=device-width,initial-scale=0.9,maximum-scale=0.9"><div class="document"><div class="documentwrapper"><div class="bodywrapper"><div class="body"role="main"><div class="section"id="dallas-component"><h1>Dallas Component<a class="headerlink"href="#dallas-component"title="Permalink to this headline">¶</a></h1><p>This class allows using Dallas (DS18b20) devices with esphomelib. You first have to create a hub or bus where all sensors are connected to (<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">DallasComponent</span></code>).<p>Next, use <a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponent21get_sensor_by_addressERKNSt6stringE8uint64_t7uint8_t"title="esphomelib::sensor::DallasComponent::get_sensor_by_address"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">get_sensor_by_address()</span></code></a> and <a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponent19get_sensor_by_indexERKNSt6stringE7uint8_t7uint8_t"title="esphomelib::sensor::DallasComponent::get_sensor_by_index"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">get_sensor_by_index()</span></code></a> to get individual sensors. You can get the addresses of dallas sensors by observing the log output at startup time.<div class="section"id="example-usage"><h2>Example Usage<a class="headerlink"href="#example-usage"title="Permalink to this headline">¶</a></h2><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Bus setup</span>
<span class="k">auto</span> <span class="o">*</span><span class="n">dallas</span> <span class="o">=</span> <span class="n">App</span><span class="p">.</span><span class="n">make_dallas_component</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>

<span class="c1">// By address</span>
<span class="n">App</span><span class="p">.</span><span class="n">register_sensor</span><span class="p">(</span><span class="n">dallas</span><span class="o">-&gt;</span><span class="n">get_sensor_by_address</span><span class="p">(</span><span class="s">&quot;Ambient Temperature&quot;</span><span class="p">,</span> <span class="mh">0xfe0000031f1eaf29</span><span class="p">));</span>
<span class="c1">// By index</span>
<span class="n">App</span><span class="p">.</span><span class="n">register_sensor</span><span class="p">(</span><span class="n">dallas</span><span class="o">-&gt;</span><span class="n">get_sensor_by_index</span><span class="p">(</span><span class="s">&quot;Ambient Temperature&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span>
</pre></div></div><p>See <a class="reference internal"href="../core/application.html#_CPPv3N10esphomelib11Application21make_dallas_componentEP10ESPOneWire8uint32_t"title="esphomelib::Application::make_dallas_component"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Application::make_dallas_component()</span></code></a> and <a class="reference internal"href="../core/application.html#_CPPv3N10esphomelib11Application15register_sensorEPN6sensor6SensorE"title="esphomelib::Application::register_sensor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Application::register_sensor()</span></code></a>.</div><div class="section"id="api-reference"><h2>API Reference<a class="headerlink"href="#api-reference"title="Permalink to this headline">¶</a></h2><dl class="class"><dt id="_CPPv3N10esphomelib6sensor15DallasComponentE"><span id="_CPPv2N10esphomelib6sensor15DallasComponentE"></span><span id="esphomelib::sensor::DallasComponent"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">DallasComponent</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="Permalink to this definition">¶</a><br><dd><p>Hub for dealing with dallas temperature sensor.<p>Uses a OneWire interface.<p>Get the individual sensors with <code class="docutils literal notranslate"><span class="pre">get_sensor_by_address</span></code> or <code class="docutils literal notranslate"><span class="pre">get_sensor_by_index</span></code>.<p>Inherits from <a class="reference internal"href="../core/component.html#classesphomelib_1_1_polling_component"><span class="std std-ref">esphomelib::PollingComponent</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent15DallasComponentEP10ESPOneWire8uint32_t"><span id="_CPPv2N10esphomelib6sensor15DallasComponent15DallasComponentEP10ESPOneWire8uint32_t"></span><span id="esphomelib::sensor::DallasComponent::DallasComponent__ESPOneWireP.uint32_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1a15fbfe9d2941be4ca9f4151f694fa365"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">DallasComponent</code><span class="sig-paren">(</span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib10ESPOneWireE"title="esphomelib::ESPOneWire">ESPOneWire</a> *<em>one_wire</em>, uint32_t <em>update_interval</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent15DallasComponentEP10ESPOneWire8uint32_t"title="Permalink to this definition">¶</a><br><dd><p>Construct the <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_dallas_component"><span class="std std-ref">DallasComponent</span></a> hub with the given OneWire instance pointer.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent21get_sensor_by_addressERKNSt6stringE8uint64_t7uint8_t"><span id="_CPPv2N10esphomelib6sensor15DallasComponent21get_sensor_by_addressERKNSt6stringE8uint64_t7uint8_t"></span><span id="esphomelib::sensor::DallasComponent::get_sensor_by_address__ssCR.uint64_t.uint8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1ad62653dc90c794d2ec02703301d70129"></span><a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a> *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">get_sensor_by_address</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em>, uint64_t <em>address</em>, uint8_t <em>resolution</em> = 12<span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent21get_sensor_by_addressERKNSt6stringE8uint64_t7uint8_t"title="Permalink to this definition">¶</a><br><dd><p>Get a <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_dallas_temperature_sensor"><span class="std std-ref">DallasTemperatureSensor</span></a> by address.<p><dl class="docutils"><dt><strong>Return</strong><dd>A pointer to a <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_dallas_temperature_sensor"><span class="std std-ref">DallasTemperatureSensor</span></a>, use this to setup MQTT.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">address</span></code>: 64-bit unsigned address for this sensor. Check debug logs for getting this.<li><code class="docutils literal notranslate"><span class="pre">resolution</span></code>: The resolution for this sensor, 8-12.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent19get_sensor_by_indexERKNSt6stringE7uint8_t7uint8_t"><span id="_CPPv2N10esphomelib6sensor15DallasComponent19get_sensor_by_indexERKNSt6stringE7uint8_t7uint8_t"></span><span id="esphomelib::sensor::DallasComponent::get_sensor_by_index__ssCR.uint8_t.uint8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1a9999a71e18ab3a164adfc9b49fe920c0"></span><a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a> *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">get_sensor_by_index</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em>, uint8_t <em>index</em>, uint8_t <em>resolution</em> = 12<span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent19get_sensor_by_indexERKNSt6stringE7uint8_t7uint8_t"title="Permalink to this definition">¶</a><br><dd><p>Get a <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_dallas_temperature_sensor"><span class="std std-ref">DallasTemperatureSensor</span></a> by index.<p>Note: It is recommended to use sensors by address to avoid mixing up sensor values if one sensor can’t be found (and therefore receives an incorrect index).<p><dl class="docutils"><dt><strong>Return</strong><dd>A pointer to a <a class="reference internal"href="#classesphomelib_1_1sensor_1_1_dallas_temperature_sensor"><span class="std std-ref">DallasTemperatureSensor</span></a>, use this to setup MQTT.<dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">index</span></code>: The index of this sensor, starts with 0.<li><code class="docutils literal notranslate"><span class="pre">resolution</span></code>: The resolution for this sensor, 8-12.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent12set_one_wireEP10ESPOneWire"><span id="_CPPv2N10esphomelib6sensor15DallasComponent12set_one_wireEP10ESPOneWire"></span><span id="esphomelib::sensor::DallasComponent::set_one_wire__ESPOneWireP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1a8a0dbea345678aa590a3ab1b601971dc"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">set_one_wire</code><span class="sig-paren">(</span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib10ESPOneWireE"title="esphomelib::ESPOneWire">ESPOneWire</a> *<em>one_wire</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent12set_one_wireEP10ESPOneWire"title="Permalink to this definition">¶</a><br><dd><p>Get the <a class="reference internal"href="../core/helpers.html#classesphomelib_1_1_e_s_p_one_wire"><span class="std std-ref">ESPOneWire</span></a> instance used for this hub.<p>Manually set the <a class="reference internal"href="../core/helpers.html#classesphomelib_1_1_e_s_p_one_wire"><span class="std std-ref">ESPOneWire</span></a> instance used for this hub.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent5setupEv"><span id="_CPPv2N10esphomelib6sensor15DallasComponent5setupEv"></span><span id="esphomelib::sensor::DallasComponent::setup"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1ab301128fafabb3ce00371063aabbafd4"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent5setupEv"title="Permalink to this definition">¶</a><br><dd><p>Set up individual sensors and update intervals.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor15DallasComponent18get_setup_priorityEv"><span id="_CPPv2NK10esphomelib6sensor15DallasComponent18get_setup_priorityEv"></span><span id="esphomelib::sensor::DallasComponent::get_setup_priorityC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1acd7c176da3c630dd9950adb2a5dcdad2"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">get_setup_priority</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor15DallasComponent18get_setup_priorityEv"title="Permalink to this definition">¶</a><br><dd><p>HARDWARE_LATE setup priority.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent6updateEv"><span id="_CPPv2N10esphomelib6sensor15DallasComponent6updateEv"></span><span id="esphomelib::sensor::DallasComponent::update"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1af920248d672f4f876bd684b9b98a858b"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent6updateEv"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor15DallasComponent12get_one_wireEv"><span id="_CPPv2NK10esphomelib6sensor15DallasComponent12get_one_wireEv"></span><span id="esphomelib::sensor::DallasComponent::get_one_wireC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1a1d8c05b995366efdc99c00247a480c96"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib10ESPOneWireE"title="esphomelib::ESPOneWire">ESPOneWire</a> *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">get_one_wire</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor15DallasComponent12get_one_wireEv"title="Permalink to this definition">¶</a><br><dd></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent9one_wire_E"><span id="_CPPv2N10esphomelib6sensor15DallasComponent9one_wire_E"></span><span id="esphomelib::sensor::DallasComponent::one_wire___ESPOneWireP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1adb955a023eeeabac46e5ed0137733c0b"></span><a class="reference internal"href="../core/helpers.html#_CPPv3N10esphomelib10ESPOneWireE"title="esphomelib::ESPOneWire">ESPOneWire</a> *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">one_wire_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent9one_wire_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent8sensors_E"><span id="_CPPv2N10esphomelib6sensor15DallasComponent8sensors_E"></span><span id="esphomelib::sensor::DallasComponent::sensors___std::vector:DallasTemperatureSensorP:"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1a5f79de1e4b24e395fd81942b8e5e3526"></span>std::vector&lt;<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a> *&gt; esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">sensors_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent8sensors_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor15DallasComponent11resolution_E"><span id="_CPPv2N10esphomelib6sensor15DallasComponent11resolution_E"></span><span id="esphomelib::sensor::DallasComponent::resolution___uint8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_component_1af0319eb959d1806e3ec355da5fc45dc3"></span>uint8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a><code class="descname">resolution_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor15DallasComponent11resolution_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl><dl class="class"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensorE"></span><span id="esphomelib::sensor::DallasTemperatureSensor"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor"></span><em class="property">class </em>esphomelib::sensor<code class="descclassname">::</code><code class="descname">DallasTemperatureSensor</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="Permalink to this definition">¶</a><br><dd><p>Internal class that helps us create multiple sensors for one Dallas hub.<p>Inherits from <a class="reference internal"href="index.html#classesphomelib_1_1sensor_1_1_sensor"><span class="std std-ref">esphomelib::sensor::Sensor</span></a><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Public Functions<dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor23DallasTemperatureSensorERKNSt6stringE8uint64_t7uint8_tP15DallasComponent"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor23DallasTemperatureSensorERKNSt6stringE8uint64_t7uint8_tP15DallasComponent"></span><span id="esphomelib::sensor::DallasTemperatureSensor::DallasTemperatureSensor__ssCR.uint64_t.uint8_t.DallasComponentP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a988bf34cfcc336bb8aacc09ef9d503e4"></span>esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">DallasTemperatureSensor</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em>, uint64_t <em>address</em>, uint8_t <em>resolution</em>, <a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a> *<em>parent</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor23DallasTemperatureSensorERKNSt6stringE8uint64_t7uint8_tP15DallasComponent"title="Permalink to this definition">¶</a><br><dd><p>Construct the temperature sensor with the given address.<p><dl class="docutils"><dt><strong>Parameters</strong><dd><ul class="breatheparameterlist first last simple"><li><code class="docutils literal notranslate"><span class="pre">address</span></code>: 64-bit unsigned address of the temperature sensor. Can be 0 to indicate using index.<li><code class="docutils literal notranslate"><span class="pre">resolution</span></code>: Resolution used for this sensor. Usually 8-12.<li><code class="docutils literal notranslate"><span class="pre">update_interval</span></code>: The interval in ms the sensor should be checked.</ul></dl><p></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor12get_address8Ev"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor12get_address8Ev"></span><span id="esphomelib::sensor::DallasTemperatureSensor::get_address8"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a3ab1b9fc25945571db0f339746d2a64a"></span>uint8_t *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">get_address8</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor12get_address8Ev"title="Permalink to this definition">¶</a><br><dd><p>Helper to get a pointer to the address as uint8_t.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor16get_address_nameEv"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor16get_address_nameEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::get_address_name"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1accc6fbd3b4b57ce393785412e85a47b5"></span><em class="property">const</em> std::string &amp;esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">get_address_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor16get_address_nameEv"title="Permalink to this definition">¶</a><br><dd><p>Helper to create (and cache) the name for this sensor. For example “0xfe0000031f1eaf29”.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor11get_addressEv"><span id="_CPPv2NK10esphomelib6sensor23DallasTemperatureSensor11get_addressEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::get_addressC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1adba00f7dc37f462167310b7c2e1ffb29"></span>uint64_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">get_address</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor11get_addressEv"title="Permalink to this definition">¶</a><br><dd><p>Get the 64-bit unsigned address for this sensor.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor11set_addressE8uint64_t"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor11set_addressE8uint64_t"></span><span id="esphomelib::sensor::DallasTemperatureSensor::set_address__uint64_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a5980557c92415a5982fc958b444b408b"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">set_address</code><span class="sig-paren">(</span>uint64_t <em>address</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor11set_addressE8uint64_t"title="Permalink to this definition">¶</a><br><dd><p>Set the 64-bit unsigned address for this sensor.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor9get_indexEv"><span id="_CPPv2NK10esphomelib6sensor23DallasTemperatureSensor9get_indexEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::get_indexC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1acfd53b9ed9f2c2926bdfbcd48f2a7e8e"></span>uint8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">get_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor9get_indexEv"title="Permalink to this definition">¶</a><br><dd><p>Get the index of this sensor. (0 if using address.)</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor9set_indexE7uint8_t"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor9set_indexE7uint8_t"></span><span id="esphomelib::sensor::DallasTemperatureSensor::set_index__uint8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a4d4abf8a8473d18df1c5d1b13d5577c4"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">set_index</code><span class="sig-paren">(</span>uint8_t <em>index</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor9set_indexE7uint8_t"title="Permalink to this definition">¶</a><br><dd><p>Set the index of this sensor. If using index, address will be set after setup.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor14get_resolutionEv"><span id="_CPPv2NK10esphomelib6sensor23DallasTemperatureSensor14get_resolutionEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::get_resolutionC"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a17116e0c386cbae934af8b3e8290ebed"></span>uint8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">get_resolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor14get_resolutionEv"title="Permalink to this definition">¶</a><br><dd><p>Get the set resolution for this sensor.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor14set_resolutionE7uint8_t"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor14set_resolutionE7uint8_t"></span><span id="esphomelib::sensor::DallasTemperatureSensor::set_resolution__uint8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a8c8577b647e90b637aebeeb203df7e36"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">set_resolution</code><span class="sig-paren">(</span>uint8_t <em>resolution</em><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor14set_resolutionE7uint8_t"title="Permalink to this definition">¶</a><br><dd><p>Set the resolution for this sensor.</dl><dl class="function"><dt id="_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor30millis_to_wait_for_conversion_Ev"><span id="_CPPv2NK10esphomelib6sensor23DallasTemperatureSensor30millis_to_wait_for_conversion_Ev"></span><span id="esphomelib::sensor::DallasTemperatureSensor::millis_to_wait_for_conversion_C"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1af743b648425af399fa3b9da7ab320b66"></span>uint16_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">millis_to_wait_for_conversion_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink"href="#_CPPv3NK10esphomelib6sensor23DallasTemperatureSensor30millis_to_wait_for_conversion_Ev"title="Permalink to this definition">¶</a><br><dd><p>Get the number of milliseconds we have to wait for the conversion phase.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor13setup_sensor_Ev"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor13setup_sensor_Ev"></span><span id="esphomelib::sensor::DallasTemperatureSensor::setup_sensor_"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1ae28ed8925a081d8f1da78374294559b8"></span>void esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">setup_sensor_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor13setup_sensor_Ev"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor17read_scratch_pad_Ev"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor17read_scratch_pad_Ev"></span><span id="esphomelib::sensor::DallasTemperatureSensor::read_scratch_pad_"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1aeac0f1795c8859c26282b38ae60b2bcc"></span>bool esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">read_scratch_pad_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor17read_scratch_pad_Ev"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor19unit_of_measurementEv"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor19unit_of_measurementEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::unit_of_measurement"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a9e8d43d762932bd41ebe60c282bcf4c1"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">unit_of_measurement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor19unit_of_measurementEv"title="Permalink to this definition">¶</a><br><dd><p>Unit of measurement for MQTT: “°C”.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor4iconEv"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor4iconEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::icon"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a2a96b5fad669aaccce7a622c31d01328"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">icon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor4iconEv"title="Permalink to this definition">¶</a><br><dd><p>Icon for MQTT: “”.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor15update_intervalEv"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor15update_intervalEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::update_interval"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a8f63c9c3b7f1ed9aab1c64ae035a9541"></span>uint32_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">update_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor15update_intervalEv"title="Permalink to this definition">¶</a><br><dd><p>Update interval for MQTT’s automatic expiry: <code class="docutils literal notranslate"><span class="pre">update_interval</span></code>.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor17accuracy_decimalsEv"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor17accuracy_decimalsEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::accuracy_decimals"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a8924c1739462c67874c31c6a07729d47"></span>int8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">accuracy_decimals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor17accuracy_decimalsEv"title="Permalink to this definition">¶</a><br><dd><p>Accuracy in decimals for this sensor. 1.</dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor18check_scratch_pad_Ev"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor18check_scratch_pad_Ev"></span><span id="esphomelib::sensor::DallasTemperatureSensor::check_scratch_pad_"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1af3d28cd982dae8cae102c51fd5adb40e"></span>bool esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">check_scratch_pad_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor18check_scratch_pad_Ev"title="Permalink to this definition">¶</a><br><dd></dl><dl class="function"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor10get_temp_cEv"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor10get_temp_cEv"></span><span id="esphomelib::sensor::DallasTemperatureSensor::get_temp_c"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a4e03c7ed4df3b70d42a7518a8a4b939e"></span>float esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">get_temp_c</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor10get_temp_cEv"title="Permalink to this definition">¶</a><br><dd></dl></div><div class="breathe-sectiondef docutils container"><p class="breathe-sectiondef-title rubric">Protected Attributes<dl class="member"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor8address_E"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor8address_E"></span><span id="esphomelib::sensor::DallasTemperatureSensor::address___uint64_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a98c6896152a1e1377ac8afcd415c6e7e"></span>uint64_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">address_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor8address_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor6index_E"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor6index_E"></span><span id="esphomelib::sensor::DallasTemperatureSensor::index___uint8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a4c7daf5986302b329bb11df8317623ac"></span>uint8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">index_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor6index_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor11resolution_E"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor11resolution_E"></span><span id="esphomelib::sensor::DallasTemperatureSensor::resolution___uint8_t"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1afe058da83fc441b2edb75128dbfb6f7d"></span>uint8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">resolution_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor11resolution_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor13address_name_E"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor13address_name_E"></span><span id="esphomelib::sensor::DallasTemperatureSensor::address_name___ss"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a9adbcbcf2437dca6a40e11b4e229bc7a"></span>std::string esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">address_name_</code><a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor13address_name_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor12scratch_pad_E"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor12scratch_pad_E"></span><span id="esphomelib::sensor::DallasTemperatureSensor::scratch_pad___uint8_tA"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1ab016c01b5ed28b3cc5c0d5eb85fe9b45"></span>uint8_t esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">scratch_pad_</code>[9] = {0,}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor12scratch_pad_E"title="Permalink to this definition">¶</a><br><dd></dl><dl class="member"><dt id="_CPPv3N10esphomelib6sensor23DallasTemperatureSensor7parent_E"><span id="_CPPv2N10esphomelib6sensor23DallasTemperatureSensor7parent_E"></span><span id="esphomelib::sensor::DallasTemperatureSensor::parent___DallasComponentP"></span><span class="target"id="classesphomelib_1_1sensor_1_1_dallas_temperature_sensor_1a3cc360e05ad342059c72f22dd8dc25dd"></span><a class="reference internal"href="#_CPPv3N10esphomelib6sensor15DallasComponentE"title="esphomelib::sensor::DallasComponent">DallasComponent</a> *esphomelib::sensor::<a class="reference internal"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensorE"title="esphomelib::sensor::DallasTemperatureSensor">DallasTemperatureSensor</a><code class="descname">parent_</code> = {nullptr}<a class="headerlink"href="#_CPPv3N10esphomelib6sensor23DallasTemperatureSensor7parent_E"title="Permalink to this definition">¶</a><br><dd></dl></div></dl></div></div></div></div></div><div class="sphinxsidebar"role="navigation"aria-label="main navigation"><div class="sphinxsidebarwrapper"><div class="relations"><h3>Related Topics</h3><ul><li><a href="../../index.html">Documentation overview</a><ul><li>Previous: <a href="bmp085.html"title="previous chapter">BMP085 Pressure/Temperature Sensor</a><li>Next: <a href="dht.html"title="next chapter">DHT Temperature/Humidity Sensor</a></ul></ul></div><div id="searchbox"style="display: none"role="search"><h3>Quick search</h3><div class="searchformwrapper"><form class="search"action="../../search.html"><input name="q"> <input type="submit"value="Go"> <input type="hidden"name="check_keywords"value="yes"> <input type="hidden"name="area"value="default"></form></div></div><script>$('#searchbox').show(0);</script></div></div><div class="clearer"></div></div><div class="footer">&copy;2018, Otto Winter. | Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a> &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a> | <a href="../../_sources/api/sensor/dallas.rst.txt"rel="nofollow">Page source</a></div><script>var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-113203480-2']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();</script>